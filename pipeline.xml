<?xml version="1.0"?>
<Pipelines xmlns ="uri:pipelineSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="uri:pipelineSchema pipeline.xsd">
    <Pipeline pipelineName="EmployeePipeline">
        <Feed>
            <DBURL>localhost:3306</DBURL>
            <DBName>employees</DBName>
            <DBUserName>root</DBUserName>
            <DBPassword>root</DBPassword>
        </Feed>
        <Stages>
            <stage number="1">
                <stageName>CHECK USER</stageName>
                <stageDesciption>Checking if the user exists in database</stageDesciption>
                <processing> select * from employees where emp_no = 10001</processing>
                <output>File</output>
            </stage>
            <stage number="2">
                <stageName>SALARY SUM</stageName>
                <stageDesciption>Finding the sum of the salary of the employee over the years</stageDesciption>
                <processing>SELECT SUM(salary) FROM employees as e join salaries as s on e.emp_no = s.emp_no where e.emp_no=10001;</processing>
                <output>File</output>
            </stage>

        </Stages>

    </Pipeline>
</Pipelines>